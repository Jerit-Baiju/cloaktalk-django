{% extends 'analytics/base_analytics.html' %} {% block content %}
<div class="flex items-center justify-between mb-6">
  <h1 class="text-xl font-semibold">Colleges</h1>
  <form method="get" class="flex gap-2">
    <input
      name="q"
      value="{{ q }}"
      placeholder="Search college or domain"
      class="bg-black/40 border border-white/10 rounded-md px-3 py-2 text-sm" />
    <button class="px-4 py-2 rounded-md bg-ctpink-500 hover:bg-ctpink-400 text-black font-semibold">Search</button>
  </form>
</div>

<div class="glass rounded-xl overflow-hidden">
  <table class="min-w-full text-sm">
    <thead class="bg-white/5">
      <tr>
        <th class="text-left py-3 px-4">College</th>
        <th class="text-right py-3 px-4">Users</th>
        <th class="text-right py-3 px-4">Chats</th>
        <th class="text-right py-3 px-4">Messages</th>
        <th class="py-3 px-4"></th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr class="border-t border-white/5 hover:bg-white/5">
        <td class="py-3 px-4">
          <div class="font-medium">{{ item.college.name }}</div>
          <div class="text-xs text-gray-400">{{ item.college.domain }}</div>
        </td>
        <td class="py-3 px-4 text-right">{{ item.user_count }}</td>
        <td class="py-3 px-4 text-right">{{ item.chat_count }}</td>
        <td class="py-3 px-4 text-right">{{ item.msg_count }}</td>
        <td class="py-3 px-4 text-right">
          <a href="{% url 'analytics:college_detail' item.college.id %}" class="text-ctpink-400">View</a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="py-6 text-center text-gray-500">No colleges found</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
